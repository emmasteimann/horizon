{% load i18n parse_date launch_form %}


<div class="table_title">
  <h3>Images and Snapshots</h3>
  <div class="table_actions">
    <div class="images table_search">
      <form action="#">
        <input class="span3" type="text">
      </form>
    </div>
    <a class="inspect" href="#">inspect</a>
  </div>
</div>

<table id="images" class="zebra-striped">
  <tr>
    <th></th>
    <th>{%trans "Name"%}</th>
    <th>{%trans "Size"%}</th>
    <th>{%trans "Type"%}</th>
    <th colspan="2">{%trans "Status"%}</th>
  </tr>
  {% for image in images %}
  <tr class="{% cycle 'odd' 'even' %}">
      <td class="select">
        <input type="checkbox" name="image_{{image.id}}" value="image_{{image.id}}" id="image_select_{{image.id}}" />
      </td>
      <td>{{image.name}}</td>
      <td>{{image.size}}</td>
			<td>{{image.properties.image_type|default:"Image"}}</td>
      <td>{{image.status|capfirst}}</td>
      <td id="actions">
          <ul>
            <li>{{ image.request.user.id }}<a class="btn small primary" data-controls-modal="launch_image_{{image.id}}" data-backdrop="static" href="{% url horizon:nova:images:launch image.id %}">{% trans "Launch" %}</a></li>
            {% if image.owner == request.user.tenant_id %}
            <li class="form">{% include "nova/images/_delete.html" with form=delete_form %}</li>
            <li><a class='btn small' href="{% url horizon:nova:images:update image.id %}">{% trans "Edit" %}</a></li>
            {% endif %}
          </ul>
        </td>
  </tr>
  {% endfor %}
</table>

{% for image in images %}
  {% launch_form request request.user.tenant_id image.id as launch_form %}
  {% include 'nova/images/_launch.html' with form=launch_form image_id=image.id hide=True %}
{% endfor %}
